# Stability & Accuracy of Radiomic Features

## 1) Download and prepare data for feature extraction
### Download
In a first step, the two datasets these experiments are based on must be downloaded and stored in the right directories so the code can access them.
Both datasets are publicly available on The Cancer Imaging Archive's website.

Download CT-Phantom4Radiomics data from here: [CTP4R](https://www.cancerimagingarchive.net/collection/ct-phantom4radiomics/)  
Download Colorectal-Liver-Metastases data from here: [CRLM](https://www.cancerimagingarchive.net/collection/colorectal-liver-metastases/)

### Directories
The scans and segmentation data must be stored in the designated directories in this repository.  
A script to move the data is provided [here](https://github.com/Joingl/radiomic-features/blob/main/data/move_scan_and_mask.py).  
Insert the paths to the stored datasets in line 5 and 6 of the script and run it.

### Conversion to NumPy Arrays
Features will be extracted from NumPy arrays.  
To convert the selected DICOM images to NumPy arrays use the script provided [here](https://github.com/Joingl/radiomic-features/blob/main/data/generate_NumPy_images.py).

## 2) Feature Extraction
In step 2 all feature types are extracted from the NumPy arrays. Feature extraction must be performed on both the datasets.  
To extract features from the CTP4R data run the script provided [here](https://github.com/Joingl/radiomic-features/blob/main/feature%20extraction/ctp4r/extract_features_ctp4r.py)   
To extract features from the CRLM data run the script provided [here](https://github.com/Joingl/radiomic-features/blob/main/feature%20extraction/crlm/extract_features_crlm.py)  

## 3) Experiment 1
In experiment 1 stability and discriminative power are measured and features are ranked considering both characteristics.  
The metrics and the ranking of the features are computed by executing the scripts provided in the respective directories [here](https://github.com/Joingl/radiomic-features/tree/main/experiments/experiment1).  
Additionally, scripts to generate plots to summarize the results can be found in the corresponding directories.  

## 4) Experiment 2
In experiment 2 various machine learning models are trained, validated and tested on the CTP4R and the CRLM datasets.  
First, a dataset holding all the extracted features from the 4 features types must be generated by running the script provided [here](https://github.com/Joingl/radiomic-features/blob/main/experiments/experiment2/prepare_data.py).  
Results are then computed in the script provided [here](https://github.com/Joingl/radiomic-features/blob/main/experiments/experiment2/compute_results.py).  
Finally, results can be visualized using the script [here](https://github.com/Joingl/radiomic-features/blob/main/experiments/experiment2/plot_performance.py).

## Graphics
Graphics used to visualize the results can be found [here](https://github.com/Joingl/radiomic-features/tree/main/graphics).  

